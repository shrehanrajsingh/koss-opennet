{% extends 'base.html' %}
{% block title %}Community - OpenNet{% endblock %}

{% block content %}
<div class="view-header">
    <div class="header-title">
        <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor" style="vertical-align: middle; margin-right: 8px;"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
        Community
    </div>
</div>

<div style="padding: 16px;">
    {% for user in users %}
    <div class="post" style="padding: 12px 16px;">
        <img src="{{ url_for('upload.serve_upload', filename=user.profile_pic) }}" 
             class="create-avatar"
             onerror="this.onerror=null;this.src='{{ url_for('static', filename='img/default_avatar.png') }}'">
        <div class="post-content">
            <a href="{{ url_for('profile.view_profile', id=user.id) }}" style="text-decoration: none;">
                <span class="display-name">{{ user.username }}</span>
                <span class="username">@{{ user.username }}</span>
            </a>
            <p style="color: var(--text-secondary); margin-top: 4px; font-size: 14px;">{{ user.email }}</p>
            {% if user.role == 'admin' %}
            <span style="color: var(--accent-blue); font-size: 13px; display: inline-flex; align-items: center; margin-top: 4px;">
                <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor" style="margin-right: 4px;"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/></svg>
                Admin
            </span>
            {% endif %}
        </div>
        <button class="follow-btn">Follow</button>
    </div>
    {% endfor %}
</div>
{% endblock %}
